<div>
    <img [defaultImage]="'https://via.placeholder.com/240x340/000/?text=LOTR'"
         [lazyLoad]="'/assets/img/encounter/' + card.image + '.jpg'"
         alt=""
         width="150" height="213"
         hspace="6"
         [matMenuTriggerFor]="menu"
         (mouseover)="zoomService.mouseover('/assets/img/encounter/', card.image + '.jpg', card.type === 'location' ? 'left' : 'right')"
         (mouseout)="zoomService.mouseout()" />

    <mat-menu #menu="matMenu">
        <ng-container [ngSwitch]="card.type">
            <ng-container *ngSwitchCase="'enemy'">
                <button mat-menu-item (click)="onCardActivation()" *ngIf="area === 'staging'">
                    <mat-icon>pan_tool</mat-icon>
                    Engage enemy
                </button>

                <button mat-menu-item (click)="onCardActivation()" *ngIf="area === 'engaging'">
                    <mat-icon>pan_tool</mat-icon>
                    Enemy defeated
                </button>
            </ng-container>

            <ng-container *ngSwitchCase="'location'">
                <button mat-menu-item (click)="onCardActivation()" *ngIf="area === 'staging'">
                    <mat-icon>location_on</mat-icon>
                    Travel to location
                </button>

                <button mat-menu-item (click)="onCardActivation()" *ngIf="area === 'location'">
                    <mat-icon>location_on</mat-icon>
                    Location discovered
                </button>
            </ng-container>

            <ng-container *ngSwitchCase="'treachery'">
                <button mat-menu-item (click)="onCardActivation()">
                    <mat-icon>check</mat-icon>
                    Effect resolved
                </button>
            </ng-container>

            <ng-container *ngSwitchDefault>
                <button mat-menu-item (click)="onCardActivation()">
                    <mat-icon>pan_tool</mat-icon>
                    Play
                </button>
            </ng-container>
        </ng-container>

        <button mat-menu-item (click)="onCardDeactivation()">
            <mat-icon>wifi_protected_setup</mat-icon>
            Shuffle back
        </button>
    </mat-menu>

    <span *ngIf="card.type === 'enemy' || card.type === 'location'"
          (click)="increaseNumber()"
          [ngClass]="card.type">
        {{ number }}
    </span>
</div>
